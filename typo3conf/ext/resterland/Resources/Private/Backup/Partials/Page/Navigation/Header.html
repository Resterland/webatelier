<header class="navbar navbar-{settings.navigation.style}{f:if(condition:settings.logo.file,then:' navbar-has-image')}{f:if(condition:settings.navigation.type,then:' fixed-{settings.navigation.type} ')} bg-{settings.navigation.bgcolor} navbar-expand-lg">
    <div class="container">
        <div class="navbar-header navbar-header-main">
            <f:if condition="{settings.logo.file}">
                <f:then>
                    <f:link.page pageUid="{rootPage}" class="navbar-brand navbar-brand-image" title="{settings.logo.linktitle}">
                        <img class="navbar-brand-logo-normal" src="{f:uri.image(src: settings.logo.file)}" alt="{logoAlt}" height="{settings.logo.height}" width="{settings.logo.width}" class="d-inline-block align-top">
                        <img class="navbar-brand-logo-inverted" src="{f:uri.image(src: settings.logo.fileInverted)}" alt="{logoAlt}" height="{settings.logo.height}" width="{settings.logo.width}" class="d-inline-block align-top">
                    </f:link.page>
                </f:then>
                <f:else>
                    <f:link.page pageUid="{rootPage}" class="navbar-brand" title="{settings.logo.linktitle}">{sitename}</f:link.page>
                </f:else>
            </f:if>
            <f:if condition="{mainnavigation}">
                <button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
            </f:if>
            <span class="navbar-header-border-bottom"></span>
        </div>

        <f:if condition="{mainnavigation}">
            <nav class="collapse navbar-collapse" id="navbarSupportedContent" role="navigation">
                <ul class="nav navbar-nav navbar-main mr-auto">
                    <f:for each="{mainnavigation}" as="mainnavigationItem">
                        <li class="{f:if(condition: mainnavigationItem.active, then:'active')} {f:if(condition: mainnavigationItem.children, then:'dropdown dropdown-hover')}">
                            <f:if condition="{mainnavigationItem.children}">
                                <f:then>
                                    <a href="{mainnavigationItem.link}"{f:if(condition: mainnavigationItem.target, then: ' target="{mainnavigationItem.target}"')} title="{mainnavigationItem.title}" class="dropdown-link">
                                    <f:if condition="{mainnavigationItem.icon}">
                                                    <span class="navbar-item-icon">
                                                        <f:image image="{mainnavigationItem.icon.0}" alt="{mainnavigationItem.icon.0.alternative}" title="{mainnavigationItem.icon.0.title}" width="{settings.navigation.icon.width}" height="{settings.navigation.icon.height}" />
                                                    </span>
                                    </f:if>
                                    <span class="navbar-item-text">{mainnavigationItem.title}</span>
                                    <b class="caret"></b>
                                    <span class="bar"></span>
                                    </a>
                                    <ul class="dropdown-menu">
                                        <f:for each="{mainnavigationItem.children}" as="child">
                                            <f:if condition="{child.spacer}">
                                                <f:then>
                                                    <li class="dropdown-header">{child.title}</li>
                                                </f:then>
                                                <f:else>
                                                    <li class="{f:if(condition: child.active, then:'active')}">
                                                        <a href="{child.link}"{f:if(condition: child.target, then: ' target="{child.target}"')} title="{child.title}">
                                                        <f:if condition="{child.icon}">
                                                                        <span class="navbar-item-icon">
                                                                            <f:image image="{child.icon.0}" alt="{child.icon.0.alternative}" title="{child.icon.0.title}" width="{settings.navigation.icon.width}" height="{settings.navigation.icon.height}" />
                                                                        </span>
                                                        </f:if>
                                                        <span class="navbar-item-text">{child.title}</span>
                                                        </a>
                                                    </li>
                                                </f:else>
                                            </f:if>
                                        </f:for>
                                    </ul>
                                </f:then>
                                <f:else>
                                    <a href="{mainnavigationItem.link}"{f:if(condition: mainnavigationItem.target, then: ' target="{mainnavigationItem.target}"')} title="{mainnavigationItem.title}">
                                    <f:if condition="{mainnavigationItem.icon}">
                                                    <span class="navbar-item-icon">
                                                        <f:image image="{mainnavigationItem.icon.0}" alt="{mainnavigationItem.icon.0.alternative}" title="{mainnavigationItem.icon.0.title}" width="{settings.navigation.icon.width}" height="{settings.navigation.icon.height}" />
                                                    </span>
                                    </f:if>
                                    <span class="navbar-item-text">{mainnavigationItem.title}</span>
                                    <span class="bar"></span>
                                    </a>
                                </f:else>
                            </f:if>
                        </li>
                    </f:for>
                </ul>

                <!-- Search Form -->
                <div>
                    <form class="form-inline my-2 my-lg-0">
                        <input class="form-control mr-sm-2" type="search" placeholder="Search" aria-label="Search">
                        <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
                    </form>
                </div>

                <!-- if language navigation is enabled -->
                <!-- render Language.html as selector -->
                <f:if condition="{settings.navigation.language.header}">
                    <f:render partial="Navigation/Language" section="languageHeader" arguments="{_all}" />
                </f:if>
            </nav>
        </f:if>
    </div>
</header>

